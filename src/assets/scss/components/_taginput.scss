@use "sass:list";

/* @docs */
$taginput-background-color: $input-background-color !default;
$taginput-height: calc(2em - 1px) !default;
$taginput-padding: calc(0.275em - 1px) 0 0 !default;
$taginput-border-color: var(--#{$prefix}grey-lighter) !default;
$taginput-border-style: solid !default;
$taginput-border-width: 1px !default;
$taginput-border-radius: var(--#{$prefix}base-border-radius) !default;
$taginput-color: #363636 !default;
$taginput-line-height: var(--#{$prefix}base-line-height) !default;
$taginput-box-shadow: inset 0 1px 2px hsla(0, 0%, 4%, 0.1) !default;
$taginput-max-width: 100% !default;
$taginput-width: 100% !default;
$taginput-counter-font-size: 0.75rem !default;
$taginput-counter-margin: 0.25rem 0 0 0.5rem !default;
$taginput-item-background-color: var(--#{$prefix}primary) !default;
$taginput-item-color: var(--#{$prefix}primary-invert) !default;
$taginput-item-border-radius: var(--#{$prefix}base-border-radius) !default;
$taginput-item-margin: 0 0 0 0.275em !default;
$taginput-item-padding: 0 0.75em 0 0.75em !default;
$taginput-margin-icon-to-text: 0.1875em !default;
/* @docs */

.o-taginput {
  display: block;

  &__container {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    position: relative;
    vertical-align: top;
    flex-wrap: wrap;
    max-width: var(--#{$prefix}taginput-max-width, $taginput-max-width);
    width: var(--#{$prefix}taginput-width, $taginput-width);
    padding: var(--#{$prefix}taginput-padding, $taginput-padding);
    color: var(--#{$prefix}taginput-color, $taginput-color);
    font-size: var(--#{$prefix}base-font-size, $base-font-size);
    line-height: var(--#{$prefix}taginput-line-height, $taginput-line-height);
    background-color: var(
      --#{$prefix}taginput-background-color,
      $taginput-background-color
    );
    border-color: var(
      --#{$prefix}taginput-border-color,
      $taginput-border-color
    );
    border-style: var(
      --#{$prefix}taginput-border-style,
      $taginput-border-style
    );
    border-width: var(
      --#{$prefix}taginput-border-width,
      $taginput-border-width
    );
    border-radius: var(
      --#{$prefix}taginput-border-radius,
      $taginput-border-radius
    );
    box-shadow: var(--#{$prefix}taginput-box-shadow, $taginput-box-shadow);

    // size variants
    @each $name, $value in $sizes {
      &--#{$name} {
        font-size: var(--#{$prefix}taginput-font-size-#{$name}, $value);
      }
    }
  }

  &__input {
    border: none;
    box-shadow: none;

    &:focus {
      box-shadow: none;
    }
  }

  &__item {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    margin: var(--#{$prefix}taginput-item-margin, $taginput-item-margin);
    padding: var(--#{$prefix}taginput-item-padding, $taginput-item-padding);
    color: var(--#{$prefix}taginput-item-color, $taginput-item-color);
    background-color: var(
      --#{$prefix}taginput-item-background-color,
      $taginput-item-background-color
    );
    border-radius: var(
      --#{$prefix}taginput-item-border-radius,
      $taginput-item-border-radius
    );

    @include side-flex-gap($taginput-margin-icon-to-text);

    // color variants
    @each $name, $pair in $colors {
      $color: list.nth($pair, 1);
      $color-invert: list.nth($pair, 2);
      &--#{$name} {
        background-color: var(--#{$prefix}variant-#{$name}, $color);
        color: var(--#{$prefix}variant-invert-#{$name}, $color-invert);
      }
    }
  }

  &__counter {
    display: block;
    float: right;
    font-size: var(
      --#{$prefix}taginput-counter-font-size,
      $taginput-counter-font-size
    );
    margin: var(--#{$prefix}taginput-counter-margin, $taginput-counter-margin);
  }

  &--expanded {
    width: 100%;
    flex-grow: 1;
    flex-shrink: 1;
  }
}
